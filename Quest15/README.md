# Quest 15. 자동화된 테스트

## Introduction
* 이번 퀘스트에서는 자동화된 테스트에 어떤 장점이 있는지, 어떤 식으로 구축할 수 있는지에 대해 알아보겠습니다.

## Topics
* Automated Test
  * TDD
  * Unit Test
  * Integration Test
  * E2E Test
  * Stub & Mock
* Jest
* Puppeteer

## Resources
* [Unit Test (단위 테스트) 도입하기](https://www.popit.kr/unit-test-%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%8F%84%EC%9E%85%ED%95%98%EA%B8%B0-1%ED%8E%B8/)
* [소프트웨어 테스트 안티 패턴](https://velog.io/@leejh3224/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%95%88%ED%8B%B0-%ED%8C%A8%ED%84%B4)
* [End-to-End testing with Puppeteer and Jest](https://medium.com/touch4it/end-to-end-testing-with-puppeteer-and-jest-ec8198145321)
* [Mock & Stub](https://stackoverflow.com/questions/3459287/whats-the-difference-between-a-mock-stub)

## Checklist
* 자동화된 테스트를 만드는 것에는 어떤 장점과 단점이 있을까요?
  > * 장점
  >   1. 어플리케이션 변경시 올바르게 작동이 되는지 확인이 가능합니다. 그래서 리팩토링이 수월해집니다.
  >   2. 단위 테스트 자체가 어플리케이션에 대한 문서로도 사용 될 수 있습니다.
  >   3. 개발과정에서 미리 문제를 파악할 수 있습니다.
  > * 단점
  >   1. 기존코드와 테스트코드까지 작성해야 하기 때문에 개발 시간이 오래 걸립니다.
  >   2. 어플리케이션 변경시 테스트 코드에도 적용해야하기 때문에 유지보수에 션어서도 비용이 들게 됩니다.
  * TDD(Test-Driven Development)란 무엇인가요? TDD의 장점과 단점은 무엇일까요?
    > * **테스트 주도 개발**: 테스트를 먼저 만들고 테스트를 통과하기 위한 코드를 짜는, 개발 방법론 입니다.
    > * 장점
    >   1. 더 나은 코드 품질
    >     - 테스트를 작성하고 시작하기 때문에 놓칠 수 있는 부분을 사전에 방지 할 수 있음.
    >   2. 빠른 피드백
    >     - 디버깅의 시간이 줄어듭니다.
    >   3. 디자인 개선
    >     - 테스트를 먼저 작성하므로 코드 작성이전에 코드 구조를 먼저 설계하게 됩니다.
    > * 단점
    >   1. 생산성이 저하 됩니다.
    >     - 테스트 코드 까지 2개의 코드를 짜야하기 때문입니다.
    >   2. 잘못된 테스트 케이스
    >     - 잘못된 케이스가 작성되거나 누락되면 버그를 찾는데 시간이 더 오래걸릴 수 있음
    >   3. 구조에 얽매이게 됩니다.
    >     - 테스트 하기 어려운 예외가 생길 수도 있고, 테스트코드 보다 실제 코드가 더 중요한 상황인데도 테스트 원칙때문에 쉽게 넘어가지 못하는 상황이 일어나기도 한다고 합니다.
* 테스트들 간의 계층에 따라 어떤 단계들이 있을까요?
  * 유닛 테스트, 통합 테스트, E2E 테스트는 각각 어떤 것을 뜻하나요?
    > 1. 유닛 테스트: 코드의 최소 단위인 함수나, 모듈을 대상으로 테스트를 수행합니다. 개발 초기 단계에서 코드의 기능성과 오류를 빠르게 발견하여 수정하는데 도움이 됩니다.
    > 2. 통합 테스트: 모듈을 통합하여 전체 시스템이 예상대로 동작하는지 테스트 하는 것입니다. 시스템의 구성 요소간의 상호 작용을 검증하여, 시스템 전체의 문제점을 발견할 수 있습니다.
    > 3. E2E 테스트: 사용자 입장에서 시스템을 사용하는 시나리오를 통해 테스트하는 것 입니다. 시스템의 기능과 사용자 경험을 검증하는데 도움이 됩니다.
  * 테스트에 있어서 Stub과 Mock은 어떤 개념을 가리키는 것일까요?
    > * stub: 특정 메소드 호출시 미리 정해진 결과를 반환하는 객체 입니다.
    >   - 예시: 데이터베이스 대신하여 미리 정해진 데이터를 반환하는 객체
    > * mock: 다른 객체와의 상호작용을 검증하기 위해 사용됩니다.
    >   - 예시: mock객체를 통해 호출 횟수, 어떤 인자를 받았는지 테스트를 할수 있습니다. (내부 구현체는 없이 행위에 대한 테스트를 하기 위한 목적)
* Jest는 어떤 일을 하며 어떻게 사용하는 테스트 프레임워크일까요?
  > * 유닛 테스트를 작성하고 테스트 할 수 있습니다.
  > * Test Matcher, Test Mock, Test Runner를 다 제공해줍니다.
  > * `test` , `it` 함수를 통해 테스트를 생성하며 `expect` 함수로 검증을 진행 할 수 있습니다.
  * Jest 이외의 테스트 프레임워크는 어떤 것이 있고 어떤 장단점이 있을까요?
    > * mocha
    >   - 작동하기 위해서 다른 라이브러리의 설치 및 설정 작업이 필요합니다. (설정 과정이 복잡)
    >   - jest 보다 유연하면서 속도도 빠르고 확장성이 좋음
    > * jasmine
    >   - 간편하고 쉽게 사용이 가능 합니다.
    >   - 다른 프레임워크들보다 속도가 느립니다.
    >   - jasmine을 기반으로 기능이 추가되어서 만들어진게 jest 입니다.
* Puppeteer는 어떤 일을 하며 어떻게 사용하는 테스트 프레임워크일까요?
  > - node.js기반의 테스트 프레임워크로, headless Chrome 브라우저를 제어할수가 있으며 Chrome 브라우저에서 동작하는 기능은 모두 사용이 가능합니다. 이를 통해 웹앱을 렌더링하고 dom조작을 할수 있으며, 사용자 상호작용을 테스트하고 버그를 찾을수 있습니다. 테스트 용도 이외에도 웹 크롤링과 같은 작업을 쉽게 수행할 수 있습니다.

## Quest
* 직전 퀘스트의 메모장의 서버와 클라이언트 각 부분에 유닛 테스트, 통합 테스트, E2E 테스트 등을 추가해 보세요.
  * `npm test` 명령을 통해 모든 테스트가 돌고 그 결과를 출력할 수 있어야 합니다.

## 질문
  * 서버 테스트 코드 작성시
    - DB와 연결하는지?
    - 아니면 목킹함수를 만들어서 DB와의 연결 없이 테스트하는지??

## Advanced
* 테스트의 커버리지는 어떤 개념일까요? 프로젝트에서 테스트의 커버리지는 어떻게 접근하는 것이 좋을까요?
